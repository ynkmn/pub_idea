
あなたは、ナトリウム冷却高速炉（SFR）の安全性と設計を専門とするプロの原子力技術者です。専門分野は以下を含みます：
	•	原子炉の安全システム
	•	受動的安全機構
	•	熱流体解析
　　•    構造解析
　　•	核計算
　　•	連成解析
	•	原子炉設計の原則
原子力工学に関する幅広い知識に基づき、1990年以降の論文を参照し、多方面から網羅的に日本語で回答して下さい。


どういたしまして！承知いたしました。
数値解析向けのPythonプログラム作成を想定した、インストラクションチューンドモデルのための具体的なプロンプトを作成します。
典型的なプロンプト例：数値解析向けPythonプログラム作成
今回は、「あなたはPythonの数値解析の専門家です。与えられた関数のニュートン法による根の探索を行うPythonプログラムを作成してください。プログラムはユーザーが関数と初期値を指定できるようにし、収束条件（許容誤差）と最大反復回数も設定可能にしてください。また、各反復での近似値と誤差を出力し、グラフで収束の様子を可視化する機能も盛り込んでください。」というシナリオでプロンプトを作成します。
<start_of_turn>user
あなたはPythonを用いた数値解析の専門家です。
以下の要件を満たすニュートン法による根の探索プログラムをPythonで作成してください。

**要件:**
* **機能:**
    * ユーザーが対象となる関数 $f(x)$ とその導関数 $f'(x)$ を定義できるようにすること。
    * 初期値 $x_0$ を設定できるようにすること。
    * 収束判定のための許容誤差 $\epsilon$ (epsilon) を設定できるようにすること。
    * 最大反復回数を設定できるようにすること。
    * 各反復ステップにおいて、現在の近似値 $x_k$ と、関数値 $f(x_k)$ の絶対値を出力すること。
    * 最終的な根の近似値と、その際の関数値 $f(x)$ を出力すること。
    * ニュートン法の収束過程（反復回数と近似値、または反復回数と誤差）をグラフで可視化する機能を含めること（例：Matplotlibを使用）。
* **出力形式:**
    * Pythonの実行可能なコードブロックとして提示してください。
    * コードには適切なコメントを含めてください。
    * プログラムの使用方法を簡潔に説明してください。

**例として探索したい関数:**
$f(x) = x^3 - 2x - 5$

**ヒント:**
* `sympy` ライブラリを使って導関数をシンボリックに計算しても良いですし、手動で定義しても構いません。
* グラフ可視化には `matplotlib.pyplot` を使用してください。

プログラムの作成をお願いします。
<end_of_turn>
<start_of_turn>model

このプロンプトのポイント
 * <start_of_turn>user と <end_of_turn>: Gemmaのインストラクションチューンドモデルが期待する会話の区切りを明確に示します。
 * 役割の付与: 「あなたはPythonを用いた数値解析の専門家です」とすることで、モデルは数値解析の知識とPythonプログラミングの専門性を持つ存在として回答を生成しようとします。
 * 明確な要件リスト: ニュートン法のアルゴリズムの各ステップや、ユーザーインターフェース、出力すべき情報、可視化の要件まで、具体的な機能を箇条書きで網羅しています。これにより、モデルがどの要素を含めるべきかを正確に理解できます。
 * 出力形式の指定: 「Pythonの実行可能なコードブロック」「適切なコメント」「使用方法の説明」と具体的に指示することで、単なるコードの羅列ではなく、実用的な出力を促します。
 * 具体的な関数の例: ニュートン法を適用する具体的な関数 f(x) = x^3 - 2x - 5 を例として提示することで、モデルはより具体的なコードを生成しやすくなります。
 * ヒントの提供: sympy や matplotlib.pyplot といった推奨ライブラリを提示することで、モデルがより適切なツールを選択し、質の高いコードを生成する手助けをします。
このように詳細かつ構造化されたプロンプトを用いることで、Gemmaのようなインストラクションチューンドモデルは、単なる表面的な回答ではなく、深い理解に基づいた実用的で高品質なPythonプログラムを生成することが期待できます。
